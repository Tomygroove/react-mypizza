{"ast":null,"code":"import { ADD_TO_CART, ADJUST_QTY, REMOVE_FROM_CART } from '../actions/cart';\nimport data from '../assets/data/pizzas.json';\nconst initialState = {\n  pizzas: data.pizzas,\n  cart: []\n};\nexport default ((state = initialState, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      const item = state.pizzas.find(pizza => pizza.id === action.payload.id);\n      const inCart = state.cart.find(item => item.id === action.payload.id ? true : false);\n      return { ...state,\n        cart: inCart ? state.cart.map(item => item.id === action.payload.id ? { ...item,\n          qty: item.qty + 1\n        } : item) : [...state.cart, { ...item,\n          qty: 1\n        }]\n      };\n\n    case REMOVE_FROM_CART:\n      return { ...state,\n        cart: state.cart.filter(item => item.id !== action.payload.id)\n      };\n\n    case ADJUST_QTY:\n      return { ...state,\n        cart: state.cart.map(item => item.id === action.payload.id ? { ...item,\n          qty: action.payload.qty\n        } : item)\n      };\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/nicolas/Documents/Ingesup/cours/M1/react/react-mypizza/react-mypizza/src/reducers/cart.js"],"names":["ADD_TO_CART","ADJUST_QTY","REMOVE_FROM_CART","data","initialState","pizzas","cart","state","action","type","item","find","pizza","id","payload","inCart","map","qty","filter"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,UAArB,EAAiCC,gBAAjC,QAAwD,iBAAxD;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,MAAM,EAAEF,IAAI,CAACE,MADI;AAEjBC,EAAAA,IAAI,EAAE;AAFW,CAArB;AAKA,gBAAe,CAACC,KAAK,GAAGH,YAAT,EAAuBI,MAAvB,KAAkC;AAC7C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKT,WAAL;AACI,YAAMU,IAAI,GAAGH,KAAK,CAACF,MAAN,CAAaM,IAAb,CAAkBC,KAAK,IAAIA,KAAK,CAACC,EAAN,KAAaL,MAAM,CAACM,OAAP,CAAeD,EAAvD,CAAb;AACA,YAAME,MAAM,GAAGR,KAAK,CAACD,IAAN,CAAWK,IAAX,CAAgBD,IAAI,IAAIA,IAAI,CAACG,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAA3B,GAAgC,IAAhC,GAAuC,KAA/D,CAAf;AACA,aAAM,EACF,GAAGN,KADD;AAEFD,QAAAA,IAAI,EAAES,MAAM,GAAGR,KAAK,CAACD,IAAN,CAAWU,GAAX,CAAeN,IAAI,IAAIA,IAAI,CAACG,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAA3B,GAAgC,EAAC,GAAGH,IAAJ;AAAUO,UAAAA,GAAG,EAAEP,IAAI,CAACO,GAAL,GAAW;AAA1B,SAAhC,GAA+DP,IAAtF,CAAH,GACZ,CAAC,GAAGH,KAAK,CAACD,IAAV,EAAgB,EAAC,GAAGI,IAAJ;AAAUO,UAAAA,GAAG,EAAE;AAAf,SAAhB;AAHE,OAAN;;AAKJ,SAAKf,gBAAL;AACI,aAAM,EACF,GAAGK,KADD;AAEFD,QAAAA,IAAI,EAAEC,KAAK,CAACD,IAAN,CAAWY,MAAX,CAAmBR,IAAD,IAAUA,IAAI,CAACG,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAAvD;AAFJ,OAAN;;AAIJ,SAAKZ,UAAL;AACI,aAAM,EACF,GAAGM,KADD;AAEFD,QAAAA,IAAI,EAAEC,KAAK,CAACD,IAAN,CAAWU,GAAX,CAAeN,IAAI,IAAIA,IAAI,CAACG,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAA3B,GAAgC,EAAC,GAAGH,IAAJ;AAAUO,UAAAA,GAAG,EAAET,MAAM,CAACM,OAAP,CAAeG;AAA9B,SAAhC,GAAqEP,IAA5F;AAFJ,OAAN;;AAIJ;AACI,aAAOH,KAAP;AApBR;AAuBH,CAxBD","sourcesContent":["import {ADD_TO_CART, ADJUST_QTY, REMOVE_FROM_CART} from '../actions/cart'\nimport data from '../assets/data/pizzas.json'\n\nconst initialState = {\n    pizzas: data.pizzas,\n    cart: []\n}\n\nexport default (state = initialState, action) => {\n    switch(action.type){\n        case ADD_TO_CART:\n            const item = state.pizzas.find(pizza => pizza.id === action.payload.id)\n            const inCart = state.cart.find(item => item.id === action.payload.id ? true : false)\n            return{\n                ...state,\n                cart: inCart ? state.cart.map(item => item.id === action.payload.id ? {...item, qty: item.qty + 1} : item) :\n                [...state.cart, {...item, qty: 1}],\n            }\n        case REMOVE_FROM_CART:\n            return{\n                ...state,\n                cart: state.cart.filter((item) => item.id !== action.payload.id)         \n            }\n        case ADJUST_QTY:\n            return{\n                ...state,\n                cart: state.cart.map(item => item.id === action.payload.id ? {...item, qty: action.payload.qty} : item)\n            }\n        default:\n            return state\n\n    }\n}"]},"metadata":{},"sourceType":"module"}